economy_decisions = {

	dismantle_maginot = {
		icon = generic_construction
		cost = 50
		days_re_enable = 50
		available = {
            has_manpower < 1000
        }
		complete_effect = {
			add_manpower = 25
		}
	}
	dismantle_maginot_2 = {
		icon = generic_construction
		cost = 100
		days_re_enable = 50
		available = {
            equipment_to_stockpile = {
					type = infantry_equipment_1
					amount < 1000
				}
        }
		complete_effect = {
			add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 50
				}
		}
	}
	dismantle_maginot_3 = {
		icon = generic_construction
		cost = 150
		days_remove = 50
		days_re_enable = 50
		complete_effect = {
			add_timed_idea = {
				idea = DisAt
				days = 50
			}
		}
	}
	dismantle_maginot_4 = {
		icon = generic_construction
		cost = 150
		days_remove = 50
		days_re_enable = 50
		complete_effect = {
			add_timed_idea = {
				idea = DisDe
				days = 50
			}
		}
	}
}
war_groups = {
	preparing_raid = {
		icon = decision_border_war
		
		available = {
			NOT = { has_country_flag = raid_succeeded }
			NOT = { has_country_flag = raid_failed }
			has_war = no
			FROM = {
				num_of_controlled_states > 3
			}
		}
		
		visible = {
			NOT = {
				has_country_flag = preparing_raid
				is_puppet_of = FROM
				is_in_faction_with = FROM
				has_non_aggression_pact_with = FROM
			}
			is_neighbor_of = FROM
			FROM = {
				num_of_controlled_states > 3
			}
		}
		#days_re_enable = 30
		days_remove = 7
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
				NOT = {
					is_puppet_of = ROOT
					is_in_faction_with = ROOT
					has_border_war_with = ROOT
					has_non_aggression_pact_with = ROOT
				}
			}
		}
		cancel_trigger = {
			OR = {
				has_war = yes
				is_in_faction_with = FROM
				has_non_aggression_pact_with = FROM
			}
		}
		cancel_effect = {
			clr_country_flag = russia_preparing_raid
			FROM = { clr_country_flag = is_raid_target}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision russia_prepare_raid target: [From.GetName]"
			FROM = {
				random_owned_controlled_state = {
					limit = {
						any_neighbor_state = {
							is_fully_controlled_by = ROOT
							has_ROOT_at_least_1_div_in_current_state_scope = yes
						}
					}
					set_state_flag = DEFENDER_STATE
					set_variable = { PREV.defender_state_vs_@ROOT = THIS }
				}
				country_event = {
						id = gef.1
						days = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					has_ROOT_at_least_1_div_in_current_state_scope = yes
					any_neighbor_state = {
						is_fully_controlled_by = FROM
						has_state_flag = DEFENDER_STATE
					}
				}
				set_variable = { FROM.attacker_state_vs_@ROOT = THIS }
				
			}
			set_country_flag = preparing_raid
		}
	}
	
	initiate_raid = {
		icon = GFX_decision_border_war

		activation = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}

		highlight_states = {
			state = var:FROM.defender_state_vs_@ROOT
		}

		ai_will_do = {
			base = 30
			modifier = {
				factor = 2
				strength_ratio = {
					tag = FROM
					ratio = 2
				}
			}
		}

		cancel_trigger = {
			OR = {
				has_war = yes
				FROM = { has_war = yes }
				is_in_faction_with = FROM
				has_non_aggression_pact_with = FROM
			}
		}

		cancel_effect = {
			clr_country_flag = russia_preparing_raid
			FROM = { clr_country_flag = russia_is_raid_target }
		}

		fire_only_once = yes #Reactivation handled in effect
		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				remove_targeted_decision = { target = FROM decision = russia_initiate_raid }
				activate_targeted_decision = { target = FROM decision = russia_prepare_raid }
			}
			clr_country_flag = russia_preparing_raid
			FROM = { clr_country_flag = russia_is_raid_target }
		}

		complete_effect = {
			FROM = {
				country_event = {
					id = gef.1
					days = 1
				}
			}
		}
	}
	
	raid_in_progress = {
		icon = GFX_decision_border_war

		allowed = { always = no } #Activated from effect

		available = {
			NOT = { has_border_war = yes }
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		cancel_trigger = {
			OR = {
				is_in_faction_with = FROM
				has_war_with = FROM
			}
		}

		fire_only_once = yes

		days_mission_timeout = 180

		timeout_effect = {
			cancel_border_war = {
				dont_fire_events = no
				attacker = var:FROM.attacker_state_vs_@ROOT
				defender = var:FROM.defender_state_vs_@ROOT
			}
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = russia_preparing_raid
				remove_targeted_decision = { target = FROM decision = russia_raid_in_progress }
				activate_targeted_decision = { target = FROM decision = russia_prepare_raid }
			}
		}

		complete_effect = {
			hidden_effect = {
				clr_country_flag = russia_preparing_raid
				remove_targeted_decision = { target = FROM decision = russia_raid_in_progress }
				activate_targeted_decision = { target = FROM decision = russia_prepare_raid }
			}
		}
	}
}